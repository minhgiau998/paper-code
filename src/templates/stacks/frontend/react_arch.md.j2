# React Project Architecture

## ðŸ—ï¸ High-Level Overview

This project is built as a **Single Page Application (SPA)** using React.
{% if "TypeScript" in libraries or "TypeScript Lib" in libraries %}
It utilizes **TypeScript** for type safety and scalability.
{% endif %}

The architecture follows a **Feature-based** (or Domain-driven) structure rather than a purely technical structure. This ensures that code related to a specific feature stays together.

## ðŸ”„ Data Flow Architecture

The following diagram illustrates the data flow in this React application:

```mermaid
graph TD
    A[User Interaction] --> B[Component]
    B --> C{State Type?}
    C -->|Local| D[useState/useReducer]
    C -->|Server| E[TanStack Query/RTK Query]
    C -->|Global UI| F[Redux/Zustand/Context]
    E --> G[API Layer]
    G --> H[Backend Service]
    H --> G
    G --> E
    E --> B
    F --> B
    D --> B
    B --> A
```

**Key Points:**
- User interactions trigger component updates
- State is managed at the appropriate level (local, server, or global)
- Server state flows through data fetching libraries
- Components re-render based on state changes

## ðŸ“‚ Directory Structure

```text
src/
â”œâ”€â”€ assets/              # Static assets (images, fonts)
â”œâ”€â”€ components/          # Shared/Global UI Components (Buttons, Inputs)
â”‚   â”œâ”€â”€ ui/              # Primitive UI components
â”‚   â””â”€â”€ layout/          # Layout components (Header, Sidebar)
â”œâ”€â”€ features/            # Feature-based modules (The core of the app)
â”‚   â”œâ”€â”€ auth/            # Auth feature
â”‚   â”‚   â”œâ”€â”€ api/         # API calls specific to Auth
â”‚   â”‚   â”œâ”€â”€ components/  # Components specific to Auth
â”‚   â”‚   â””â”€â”€ hooks/       # Hooks specific to Auth
â”‚   â””â”€â”€ dashboard/
â”œâ”€â”€ hooks/               # Global custom hooks (useTheme, useWindowSize)
â”œâ”€â”€ lib/                 # Third-party library configurations
â”‚   â”œâ”€â”€ axios.ts         # Axios instance setup
â”‚   â””â”€â”€ utils.ts         # Global utility functions
â”œâ”€â”€ context/             # React Context definitions (Global State)
{% if "Redux Toolkit" in libraries %}
â”œâ”€â”€ store/               # Redux Store configuration
{% endif %}
â”œâ”€â”€ types/               # Global type definitions
â”œâ”€â”€ App.tsx              # Root component & Routing setup
â””â”€â”€ main.tsx             # Entry point
```

## ðŸ§© Key Architectural Patterns

### 1. Feature Slices
Code is organized by **Feature**, not by file type.
- **Bad:** `src/components/LoginForm.tsx`, `src/actions/authActions.ts`
- **Good:** `src/features/auth/components/LoginForm.tsx`, `src/features/auth/api/auth.ts`

### 2. Component Composition
We favor composition over inheritance.
- Use `children` prop to pass content into wrappers.
- Use **Layout Components** to manage page structures.

### 3. State Management Strategy
{% if "Redux Toolkit" in libraries %}
- **Global Server State:** Managed by **Redux Toolkit (RTK Query)** or separate query library.
- **Global UI State:** Managed by **Redux Slices**.
- **Local State:** `useState` or `useReducer` for form inputs/toggles.
{% elif "Zustand" in libraries %}
- **Global State:** Managed by **Zustand** stores. Keep stores small and focused.
- **Local State:** `useState`.
{% elif "TanStack Query" in libraries %}
- **Server State:** Strictly managed by **TanStack Query**. Do not store API data in global context manually.
- **Client State:** React Context or `useState`.
{% else %}
- **Global State:** React Context API (use sparingly for theme/auth).
- **Local State:** `useState` / `useReducer`.
{% endif %}

### 4. Data Fetching
{% if "Axios" in libraries %}
- All API calls are abstracted in `src/lib/axios.ts` or feature-specific `api/` folders.
- Components never call `fetch` or `axios` directly; they call a Hook or Service function.
{% else %}
- API calls are encapsulated in custom hooks (e.g., `useFetchData`).
{% endif %}

### 5. Performance Optimization

**Code Splitting:**
- Use React.lazy() for route-based code splitting
- Load components on-demand to reduce initial bundle size

**Memoization:**
- Use `React.memo()` for expensive components
- Use `useMemo()` and `useCallback()` to prevent unnecessary re-renders

**Example:**
```tsx
// Route-based code splitting
const Dashboard = React.lazy(() => import('@/pages/Dashboard'));

// Memoization
const ExpensiveComponent = React.memo(({ data }: Props) => {
  const processedData = useMemo(() => expensiveCalculation(data), [data]);
  return <div>{processedData}</div>;
});
```